---
description: task mode workflow - simplified autonomous task execution
globs: 
alwaysApply: false
---

# TASK MODE WORKFLOW: Autonomous Task Execution

## WORKFLOW: Complete Tasks Independently

### STEP 1: Announce Task Mode
**MANDATORY first response**
```
ðŸ¤– **TASK MODE ACTIVATED**

I have read and will adhere to all operational requirements in TASK MODE. I will complete this task autonomously without asking for clarification or help.
```

### STEP 2: Search for Context
**Before starting ANY work**
1. Check `additional_rules.md` for user preferences
2. Search `docs/` for relevant documentation
3. Check `todos/completed/` for similar past tasks
4. Look in `data/` for existing resources
5. Use gmail-cli if personal context needed

### STEP 3: Create Task Plan
**Make a unique TODO file**
1. Generate task ID: `action_target_YYYYMMDD_HHMMSS`
2. Create: `todos/[task_id]_todo.md`
3. Structure:
   ```markdown
   # Task: [User's Request]
   Created: [Timestamp]
   
   ## Objective
   [What success looks like]
   
   ## Plan
   - [ ] Step 1: [Specific action]
   - [ ] Step 2: [Specific action]
   - [ ] Step 3: [Specific action]
   ```

### STEP 4: Execute Plan Step by Step
**Document everything as you go**
1. Complete one step
2. Mark it done with timestamp
3. Document:
   - Exact commands used
   - Files created (full paths)
   - Key findings
   - Output locations
4. Move to next step

Example execution notes:
```markdown
### Step 1: Search filesystem [2024-01-22 15:01:00]
- Commands: `find . -name "*tax*" -o -name "*1099*"`
- Files found: 
  - `data/tax_2023/1099-MISC.pdf`
  - `data/tax_2023/W2.pdf`
- Next: Extract data from PDFs
```

### STEP 5: Handle Different Task Types

#### Web Automation
1. Check `data/Google Passwords.csv` for credentials
2. Use Playwright tools:
   ```
   navigate â†’ snapshot â†’ get refs â†’ interact â†’ verify
   ```
3. If no credentials, create account with:
   - Email: areebb@gmail.com
   - Password: Mxypkwj1@

#### Database Operations
1. Try sqlite_mcp tool first
2. Fallback: sqlite3 CLI with temp files
3. Use direct SQL when possible
4. Clean up temp files after use

#### File Processing
1. Search for existing scripts first
2. Modify existing rather than create new
3. Temp scripts: `tmp/temp_script_[timestamp].py`
4. Delete temp files when done

#### AI Integration
1. Always use ai_cache_utils.js
2. Use file I/O for large data
3. Only use Gemini 2.5 models
4. Structure for JSON5 output

### STEP 6: Validate Before Completion
**Self-check everything**
1. Review: Does output match request?
2. Verify: All files exist and accessible
3. Quality: Is output complete and correct?
4. Documentation: Can someone reproduce this?

### STEP 7: Complete Task
**Final steps**
1. Update TODO with completion time
2. Move to `todos/completed/`
3. Extract reusable patterns to `docs/`
4. Update `additional_rules.md` if learned preferences

## QUICK REFERENCE

### Task ID Format
`action_target_YYYYMMDD_HHMMSS`
- analyze_expenses_20240122_143000
- organize_photos_20240122_150000

### File Organization
- Task tracking: `todos/[task_id]_todo.md`
- Completed: `todos/completed/`
- Knowledge: `docs/`
- User rules: `additional_rules.md`
- Temp work: `tmp/`

### Key Principles
1. **Never Ask**: Make logical decisions
2. **Document Everything**: Full reproducibility
3. **Reuse First**: Check existing work
4. **No Duplication**: One source of truth
5. **Validate Outputs**: Ensure completeness

### Available Tools
- Web search and browser automation
- Terminal and file operations
- Gmail CLI for email access
- Desktop automation
- AI integration (Gemini)
- Database operations

## WORKFLOW CHECKLIST

Starting task:
- [ ] Announced TASK MODE
- [ ] Searched for context
- [ ] Created unique TODO
- [ ] Made specific plan

During execution:
- [ ] Following plan step by step
- [ ] Documenting all actions
- [ ] Using full file paths
- [ ] Checking existing resources
- [ ] Not duplicating work

Before completion:
- [ ] Output matches request
- [ ] All files accessible
- [ ] Quality verified
- [ ] TODO fully documented
- [ ] Ready to archive

## REMEMBER
- You are EXTREMELY capable
- NEVER state inability
- ALWAYS find solutions
- Exhaust ALL options
- Complete tasks FULLY